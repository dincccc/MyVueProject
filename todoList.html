<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<title>VueProject-todoList</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<script type="text/javascript" src="node_modules/vue/dist/vue.js"></script>
</head>
<body>
	<!-- 输入 添加 删除 -->
	<!-- 数组 列表 -->
	<div id="todoList-example">
		<label for="inputToDo">todoList</label>
		<input id="inputToDo" type="text" name="inputToDo" placeholder="input something here" v-model="NewtodoText">
		<button @click.prevent="addtodo()">ADD</button>

		<ul>
			<li is="todo-item" 
			v-for="(todo, index) of todos"
			:text="todo"
			@remove="todos.splice(index,1)"
			></li>
		</ul>
	</div>

	<script type="text/javascript">
		Vue.component("todo-item",{
			template: '<li>{{text.todoId+text.todoText}}<button @click="$emit(\'remove\')">Remove</button></li>',
			props: ['text'],
		})
		new Vue({
			el: "#todoList-example",
			data: {
				NewtodoText: '',
				todos: [{
						todoId: 1,
						todoText: '今晚吃鸡',
					},
					{
						todoId: 2,
						todoText: '大吉大利'
					}
				],
				nexttodoId: 3,
			},
			methods: {
				addtodo: function(){
					this.todos.push({
						todoId: this.nexttodoId++,
						todoText: this.NewtodoText,
					})
					this.NewtodoText='';
				}
			}
		})
	</script>
</body>
</html>